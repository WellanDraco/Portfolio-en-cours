<html lang="fr-FR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arthur Mougin</title>
    <meta name="description" content="Portfolio live d'Arthur Mougin">
    <script type="application/ld+json">
        {
            "name": "Arthur",
            "familyName": "Mougin",
            "nationality": "Francais",
            "jobTitle": "Web, webXR and XR developer",
            "award": "Bac S, DUT MMI Montbéliard, Licence informatique, Master MTI3D des Arts et Métier",
            "url": "arthur-moug.in",
            "email": "arthur.mougin@live.fr",
            "owns": "L'Univers tout entier.",
            "@context": "http://schema.org",
            "@type": "Person"
            // réduire la description
        }
    </script>
    <style>

        h1 {
            margin:1em;
        }

        body {
            margin: 0;
            overflow: hidden;
            padding: 0;
            text-align: center;
        }   

        iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }

        #preload {
            padding: 2em;
            box-sizing: border-box;
            position: absolute;
            width: 100vw;
            background-color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: monospace;
        }

        button {
            border-radius: 2px;
            padding: 0.2em 0.7em;
            box-shadow: 0px 2px 4px 0px #0000002e;
            background-color: #3F51B5;
            color: white;
            border: none;
        }
        
        button:hover {
            box-shadow: 0px 1px 2px 0px #0000002e;
            background-color: #2b377b;
        }

        button[disabled] {
            background-color: #03a9f457;
            box-shadow: 0px 1px 2px 0px #0000002e;
        }

        p {
            font-size: 1.2rem;
            margin:0.5em;
        }

        button  {
            font-size: 1.5em;
        }
        
        a  {
            font-size: 2em;
        }

        .options {
            display: flex;
            align-items: center;
            width: 100%;
            flex-wrap: wrap;    
            justify-content: center;
        }

        .options a {
            text-decoration: none;
            font-size: 3em;
            margin: 0;
            width: 43px;
            overflow: hidden;
            height: 48px;
        }

        .options a:before {
            color: #3F51B5;
        }

        .options a:hover:before {
            color: #2b377b;
        }
    </style>
    <link rel="stylesheet" href="/assets/fontawesome/css/all.min.css">
</head>
<body>
    <div id="preload">
        <h1>Arthur Mougin, Développeur WebXR et XR</h1>
        
        <div class="options">
            <p id="message"><button disabled>Chargement en cours</button><b>, </b></p>
            <a class="fab fa-linkedin" href="http://bit.ly/2klnosi">Profil Linkedin</a>
            <p><b>ou</b></p>
            <a class="fab fa-discord" href="https://discordapp.com/users/269572981792047106">Profil Discord</a>
        </div>
    </div>

    <iframe id="MyIframe" title="webXR Meeting Room with Arthur Mougin" 
    src="https://hubs.mozilla.com/mR9fW5d?embed_token=96da31a386c1a7e875a4fc526880f6f2" 
    allow="microphone; camera; vr; speaker; audio; xr-spatial-tracking" allowfullscreen="true"></iframe>
    <script>
            //https://discordapp.com/users/269572981792047106
            

        //variables
        var delay = 800;
        var index = 0;
        var messages = [
            "<button disabled>Chargement</button><b>, </b>",
            "<button disabled>Chargement.</button><b>, </b>",
            "<button disabled>Chargement..</button><b>, </b>",
            "<button>Sonnez à son bureau immersif</button><b>, </b>"
        ];
        var messageHolder = document.getElementById("message");
        var preloader = document.getElementById("preload");

        //functions
        function setMessage(i){
            messageHolder.innerHTML = messages[i]
        }
        
        function setloopingNextMessage(){
            index = ++index % 3;
            setMessage(index);
        }
        
        function wait1sec(){
            setTimeout(()=>{
                clearInterval(clock);
                setMessage(3);
                messageHolder.addEventListener("click",hideAndRemoveListener);
            },1000)
        }

        function hideAndRemoveListener(){
            console.log("click");
            messageHolder.removeEventListener("click",hideAndRemoveListener);
            preloader.style.display = "none";
            sendMessage();
        }

        //Lets goo
        const clock = setInterval(setloopingNextMessage,delay)
        document.getElementById("MyIframe").addEventListener("load",wait1sec);

        function sendMessage() {
            console.log("message envoyé")
            var request = new XMLHttpRequest();
            var string = "quelqu'un parlant " +navigator.language + " vient de se connecter. rejoins les à https://hubs.mozilla.com/mR9fW5d";
            request.open('GET','/sms.php?msg=' + encodeURI(string));
            request.send();
        }



    </script> 
</body>
</html>

